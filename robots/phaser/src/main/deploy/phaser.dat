#
# This file describes the phaser robot.  For now
# it describes Grond as we are using grond as a base
# for starting development.  Going forward this will base
# update to reflect phaser (the 2019 robot)
#

#
# The definition of the drivebase (for now this is phoenix)
#
hw:tankdrive:leftmotor:1                                        1               # TALON SRX
hw:tankdrive:leftmotor:2                                        2               # TALON SRX
hw:tankdrive:leftmotor:3                                        3               # TALON SRX
hw:tankdrive:rightmotor:1                                       4               # TALON SRX
hw:tankdrive:rightmotor:2                                       5               # TALON SRX
hw:tankdrive:rightmotor:3                                       6               # TALON SRX
hw:tankdrive:leftencoder:1                                      0               # Digital IO
hw:tankdrive:leftencoder:2                                      1               # Digital IO
hw:tankdrive:rightencoder:1                                     2               # Digital IO
hw:tankdrive:rightencoder:2                                     3               # Digital IO
hw:tankdrive:shifter                                            0               # Solenoid 0
hw:tankdrive:invert:motors:right                                true
hw:tankdrive:invert:encoders:right                              true

hw:hatchholder:arm                                              1               # Solenoid 1
hw:hatchholder:finger                                           2               # Solenoid 2
hw:hatchholder:sensor                                           10               # Digital IO

hw:lifter:encoder1                                              6               # Digital IO
hw:lifter:encoder2                                              7               # Digital IO
hw:lifter:limit:bottom                                          8               # Digital IO
hw:lifter:limit:top                                             9               # Digital IO
hw:lifter:motor:1                                               8               # TalonSRX 8
hw:lifter:motor:2                                               9               # TalonSRX 9

hw:turntable:encoder1                                           4               # Digital IO
hw:turntable:encoder2                                           5               # Ditigal IO
hw:turntable:motor:1                                            7               # TALON SRX

hw:linesensor:0                                                 21              # Digital IO
hw:linesensor:1                                                 22              # Digital IO
hw:linesensor:2                                                 23              # Digital IO

hw:driverstation:hid:driver                                     0
hw:driverstation:hid:oi                                         2

###################################################################
#
# The sections below describe the software parameters for the various
# robot subsystems
#
###################################################################

#
# Variables for the tankdrive subsystem code.  These are currently
# aligned with Phoenix as the basis for the Phaser code until we get
# a Phaser drivebase
#
tankdrive:inches_per_tick                                       0.010471976
tankdrive:width                                                 24.5
tankdrive:scrub                                                 0.9

tankdrive:follower:left:ka                                      0.0005
tankdrive:follower:left:kv                                      0.00555555555555
tankdrive:follower:left:kp                                      0.1
tankdrive:follower:left:kd                                      0.0

tankdrive:follower:right:ka                                     0.0005
tankdrive:follower:right:kv                                     0.00555555555555
tankdrive:follower:right:kp                                     0.1
tankdrive:follower:right:kd                                     0.0

tankdrive:follower:turn_correction                              0.0
tankdrive:follower:angle_decay                                  0.0

#
# Variables for the driver gamepad
#
driver:power:max                                                1.0
driver:power:default                                            0.6
driver:power:slowby                                             0.5
driver:power:tolerance                                          0.05
driver:power:nudge_straight                                     0.2
driver:power:nudge_rotate                                       0.2
driver:nudge_time                                               0.1

#
# Setup the data plotter
#
plotter:port                                                    5555

#
# Variables for the linefollower
#
linefollow:power                                                .4
linefollow:distance                                             16
linefollow:adjust                                               .35

#
# Variables for the turntable
#
turntable:minimum                                               -20
turntable:maximum                                               -40
turntable:degrees_per_tick                                      0.5
turntable:base                                                  0.0

#
# Variables for the lifter
#
lifter:base							                            11.375
lifter:inches_per_tick                                          0.08327
lifter:max_height                                               86.0
lifter:min_height                                               11.375
lifter:threshold                                                3.0
lifter:follower:kp                                              0.12
lifter:follower:ka                                              0.001
lifter:follower:kv                                              0.011
lifter:follower:kd                                              0.0
lifter:hold:p                                                   0.0
lifter:hold:i                                                   0.0
lifter:hold:d                                                   0.0
lifter:hold:f                                                   0.0
lifter:hold:a                                                   0.0
lifter:hold:min                                                 0.0
lifter:hold:max                                                 0.0
lifter:hold:imax                                                0.0

cameratracker:distance_threshold                                0.0
cameratracker:yaw_threshold                                     0.0
cameratracker:rect_ratio_min                                    0.0
cameratracker:rect_ratio_max                                    0.0

drivevision:base_power                                          0.25
drivevision:yaw_adjust_power                                    -0.003
drivevision:rect_adjust_power                                   0.25
drivevision:yaw_limit                                           20
drivevision:dist_yaw_limit                                      120

drivevision:2:yaw_adjust_power                                  -0.008
drivevision:2:base_power                                        0.2
drivevision:2:fast_factor                                       1.2
drivevision:2:yaw_switch_threshold                              2.0
drivevision:2:yaw_max_threshold                                 14
drivevision:2:turn_offset                                       0.1
drivevision:2:turn_cycles                                       100
drivevision:2:turn_straight                                     0
drivevision:2:rect_threshold                                    0.01
